:root { color-scheme: dark; }
body { font-family: Inter, system-ui, sans-serif; margin: 0; background: #0f1115; color: #e8ebf0; }
.container { max-width: 1100px; margin: 24px auto; padding: 0 16px 30px; }
h1 { margin: 0 0 8px; }
h2 { margin-top: 0; }
.muted { color: #9aa4b2; }
.card { background: #171b22; border: 1px solid #2a3340; border-radius: 10px; padding: 14px; margin: 12px 0; }
.row { display: flex; align-items: center; }
.row.wrap { flex-wrap: wrap; gap: 12px; }
.row.gap { gap: 10px; margin-top: 10px; }
input, select, button { background: #0f1115; color: #e8ebf0; border: 1px solid #354255; border-radius: 8px; padding: 8px 10px; }
input[type="text"], input[type="password"] { min-width: 280px; flex: 1; }
button { cursor: pointer; }
button.secondary { background: #1a222f; }
.stats { display: grid; grid-template-columns: repeat(auto-fit,minmax(150px,1fr)); gap: 8px; margin-top: 10px; }
.stat { background:#10151d; border:1px solid #2a3340; border-radius:8px; padding:10px; }
.stat .k { color:#9aa4b2; font-size:12px; }
.stat .v { font-size:20px; font-weight:700; }
.invoice { border:1px solid #2a3340; border-radius:8px; margin: 8px 0; background:#11161f; }
.invoice summary { list-style: none; cursor: pointer; padding: 10px; display:flex; justify-content:space-between; gap:10px; }
.invoice summary::-webkit-details-marker { display:none; }
.invoice .body { border-top:1px solid #2a3340; padding: 10px; }
.badge { font-size: 12px; border-radius: 999px; padding: 2px 8px; border:1px solid #2a3340; }
.badge.paid { color: #72d98b; border-color:#2d6d42; }
.badge.unpaid { color: #ffb3b3; border-color:#7a3636; }
table { width:100%; border-collapse: collapse; }
th, td { padding: 6px; border-bottom: 1px solid #2a3340; text-align:left; vertical-align:top; }
.small { font-size: 12px; color:#9aa4b2; }
.invoices-title { display:flex; align-items:baseline; justify-content:space-between; gap:12px; }
.gst-legend { font-size: 11px; font-weight: 500; color:#6f7c8d; margin-left:auto; white-space:nowrap; }
.gst-mark { color:#6f7c8d; font-weight:700; font-size:10px; position:relative; top:-1px; }
.amount-mark { color:#7f8a99; font-weight:700; font-size:11px; margin-right:3px; position:relative; top:-1px; }
.amount-tip { cursor: help; }
.analytics-grid { display:grid; grid-template-columns: repeat(2, minmax(320px, 1fr)); gap:12px; align-items:start; }
.panel { min-width: 0; background:#10151d; border:1px solid #2a3340; border-radius:8px; padding:10px; }
.panel h3 { margin: 0 0 8px; font-size: 15px; }
@media (max-width: 900px) { .analytics-grid { grid-template-columns: 1fr; } }
.bar-row { display:grid; grid-template-columns: 120px 1fr 100px; gap:8px; align-items:center; margin:6px 0; }
.bar-track { background:#0b0f15; border:1px solid #243042; border-radius:6px; height:12px; overflow:hidden; }
.bar-fill { background: linear-gradient(90deg,#3b82f6,#22c55e); height:100%; }
.item-row { display:grid; grid-template-columns: 1fr auto; gap:8px; border-bottom:1px solid #243042; padding:6px 0; }
.item-row:last-child { border-bottom:none; }


.li-wrap { margin-top: 10px; display: grid; gap: 10px; }
.li-group { border:1px solid #2a3340; border-radius:8px; background:#0f141c; margin-bottom: 12px; }
.li-group-head { display:grid; grid-template-columns: 1fr auto; gap:8px; padding:8px 10px; border-bottom:1px solid #243042; background:#121a25; }
.li-group-name { font-weight:600; }
.li-group-total { font-weight:700; color:#9fe8b4; }
.li-group-body { padding: 6px 10px; }
.li-row { display:grid; grid-template-columns: 1fr auto; gap:10px; padding:6px 0; border-bottom:1px dashed #243042; }
.li-row:last-child { border-bottom:none; }
.li-name { color:#d7dce5; font-size: 13px; }
.li-amt { font-weight:600; }

.tiny-tag { font-size:11px; color:#9ec5ff; border:1px solid #335b8a; border-radius:999px; padding:1px 6px; margin-left:6px; }
.li-group.general .li-group-name { color:#f0c38a; }


#monthlyBars, #topItems { padding: 4px 2px; max-height: min(52vh, 520px); overflow: auto; }
.bar-row { padding: 4px 6px; border-radius: 8px; }
.item-row { border-radius: 6px; padding:8px 8px; margin: 4px 0; border-bottom:none; }

/* Alternate shading only for sectioned line items */
.li-group:nth-child(odd) { background: #0f141c; }
.li-group:nth-child(even) { background: #0c1219; }
.li-row { border-bottom:none; margin: 6px 0; padding:10px 10px; border-radius:8px; }
.li-row:nth-child(odd) { background: rgba(255,255,255,0.025); }
.li-row:nth-child(even) { background: rgba(255,255,255,0.01); }


.invoice-footer { margin-top: 12px; border-top:1px solid #2a3340; padding-top: 10px; background:#0d131b; border-radius:8px; padding:10px; }
.invoice-footer .frow { display:grid; grid-template-columns: 1fr auto; gap:10px; padding:4px 0; color:#cfd7e4; }
.invoice-footer .frow.total { border-top:1px solid #2a3340; margin-top:4px; padding-top:8px; font-size: 16px; }


.addon-toggle-wrap { margin-top: 8px; }
.addon-toggle-wrap > summary { list-style: none; }
.addon-toggle-wrap > summary::-webkit-details-marker { display:none; }
.addon-toggle { display:inline-block; font-size:12px; color:#9ec5ff; border:1px solid #335b8a; border-radius:999px; padding:3px 10px; cursor:pointer; user-select:none; background:#0b1624; }
.addon-list { margin-top: 8px; padding-top: 6px; border-top:1px dashed #2f4058; }
.addon-row { background: rgba(120,170,255,0.06) !important; }


.addon-toggle .label-hide { display:none; }
.addon-toggle-wrap[open] .addon-toggle .label-show { display:none; }
.addon-toggle-wrap[open] .addon-toggle .label-hide { display:inline; }
.addon-toggle-wrap[open] .addon-toggle { background:#102238; border-color:#3d6ea8; }
.collapse-invoice { font-size:12px; padding:5px 10px; }
.invoice[open] > summary { border-bottom:1px solid #2a3340; background:#131c28; }

.invoice { margin: 14px 0; }
.invoice summary > div:last-child { display:flex; flex-direction:column; align-items:flex-end; gap:6px; padding-right:6px; }
.invoice summary > div:last-child .badge { margin-right:0; line-height:1.2; }
.invoice[open] { margin-bottom: 22px; box-shadow: 0 0 0 1px rgba(70,120,180,0.25) inset; }
.invoice-footer .frow.action { margin-top: 8px; }
.scroll-top-invoice { font-size:12px; padding:5px 10px; }
#queryTable { overflow:auto; }
#queryTable table { min-width: 900px; }
#serverSelect { min-width: 260px; }


.hidden { display:none; }


#viewMeta { margin-left: 6px; }
.invoice { margin: 18px 0; border-color:#31445f; }
.invoice[open] { margin-bottom: 28px; box-shadow: 0 0 0 1px rgba(84,138,205,0.35) inset, 0 8px 20px rgba(0,0,0,0.25); }
.tab-btn { font-weight:600; }

.addon-chip-list{list-style:none;margin:0;padding:0;display:flex;flex-wrap:wrap;gap:6px;}
.addon-chip-list li{border:1px solid #335b8a;border-radius:999px;padding:2px 8px;font-size:12px;color:#b9d7ff;background:#102238;}


.notice { border:1px solid #335b8a; background:#102238; padding:8px 10px; border-radius:8px; color:#cfe4ff; }
.jump-invoice { color:#7dd3fc; font-weight:700; text-decoration:underline; }
.jump-invoice:hover { color:#bae6fd; }


.tabs-card {
  background: linear-gradient(180deg, #101f33 0%, #0f1826 100%);
  border: 1px solid #3f6ea7;
  box-shadow: 0 8px 20px rgba(11, 28, 48, 0.45), inset 0 1px 0 rgba(162, 196, 242, 0.12);
}
.tab-btn {
  background: #0f2238;
  border: 1px solid #4f79ac;
  color: #d9e9ff;
  font-weight: 700;
  letter-spacing: 0.1px;
}
.tab-btn:hover {
  background: #133055;
  border-color: #6ca0de;
}
.tab-btn.active {
  background: linear-gradient(180deg, #2b5f9f 0%, #244f84 100%);
  border-color: #8bc1ff;
  color: #ffffff;
  box-shadow: 0 0 0 1px rgba(170, 213, 255, 0.35), 0 4px 12px rgba(33, 88, 150, 0.4);
}


.tabs-card .row.gap { margin-top: 0; }
.tabs-card .row { min-height: 44px; align-items: center; }




.eye-btn { width:44px; height:38px; display:inline-flex; justify-content:center; align-items:center; }
.eye-svg { width:20px; height:20px; fill:#9aa4b2; display:block; }
.eye-off { display:none; }
.eye-btn.is-visible .eye-open { display:none; }
.eye-btn.is-visible .eye-off { display:block; }
.eye-btn:hover .eye-svg { fill:#d6deea; }


.eye-btn {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 6px !important;
  width: auto;
  height: auto;
  min-width: 0;
}
.eye-btn:hover { background: transparent !important; border: none !important; }




.card label[for="apiKey"] { display:block; margin-bottom: 8px; }
#apiKey { margin-top: 2px; }
.key-actions {
  min-height: 0;
  margin-top: 4px;
  padding-top: 2px;
  padding-bottom: 0;
}


.key-actions { display:flex; align-items:center; width:100%; }
.key-actions #clearBtn { margin-left:auto; }
